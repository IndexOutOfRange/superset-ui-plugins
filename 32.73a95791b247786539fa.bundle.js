(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1230:function(e,t,a){var n=a(1231);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(210)(n,r);n.locals&&(e.exports=n.locals)},1231:function(e,t,a){(e.exports=a(209)(!1)).push([e.i,"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n.superset-legacy-chart-paired_ttest .scrollbar-container {\n  overflow: auto;\n}\n\n.paired-ttest-table .scrollbar-content {\n  padding-left: 5px;\n  padding-right: 5px;\n  margin-bottom: 0;\n}\n\n.paired-ttest-table table {\n  margin-bottom: 0;\n}\n\n.paired-ttest-table h1 {\n  margin-left: 5px;\n}\n\n.reactable-data tr,\n.reactable-header-sortable {\n  transition: ease-in-out 0.1s;\n}\n\n.reactable-data tr:hover {\n  background-color: #e0e0e0;\n}\n\n.reactable-data tr .false {\n  color: #f44336;\n}\n\n.reactable-data tr .true {\n  color: #4caf50;\n}\n\n.reactable-data tr .control {\n  color: #2196f3;\n}\n\n.reactable-data tr .invalid {\n  color: #ff9800;\n}\n\n.reactable-data .control td {\n  background-color: #eeeeee;\n}\n\n.reactable-header-sortable:hover,\n.reactable-header-sortable:focus,\n.reactable-header-sort-asc,\n.reactable-header-sort-desc {\n  background-color: #e0e0e0;\n  position: relative;\n}\n\n.reactable-header-sort-asc:after {\n  content: '\\25bc';\n  position: absolute;\n  right: 10px;\n}\n\n.reactable-header-sort-desc:after {\n  content: '\\25b2';\n  position: absolute;\n  right: 10px;\n}\n",""])},1863:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(1),i=a.n(o),c=a(1232),l=a.n(c),s=a(1239);var u=r.a.arrayOf(r.a.shape({group:r.a.arrayOf(r.a.string),values:r.a.arrayOf(r.a.shape({x:r.a.number,y:r.a.number}))})),p={alpha:r.a.number,data:u.isRequired,groups:r.a.arrayOf(r.a.string).isRequired,liftValPrec:r.a.number,metric:r.a.string.isRequired,pValPrec:r.a.number},h=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={control:0,liftValues:[],pValues:[]},a}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var a=t.prototype;return a.componentWillMount=function(){var e=this.state.control;this.computeTTest(e)},a.getLiftStatus=function(e){var t=this.state,a=t.control,n=t.liftValues;if(e===a)return"control";var r=n[e];return Number.isNaN(r)||!Number.isFinite(r)?"invalid":0<=r?"true":"false"},a.getPValueStatus=function(e){var t=this.state,a=t.control,n=t.pValues;if(e===a)return"control";var r=n[e];return Number.isNaN(r)||!Number.isFinite(r)?"invalid":""},a.getSignificance=function(e){var t=this.state,a=t.control,n=t.pValues,r=this.props.alpha;return e===a?"control":n[e]<=r},a.computeLift=function(e,t){for(var a=this.props.liftValPrec,n=0,r=0,o=0;o<e.length;o++)n+=e[o].y,r+=t[o].y;return((n-r)/r*100).toFixed(a)},a.computePValue=function(e,t){for(var a,n=this.props.pValPrec,r=0,o=0,i=0,c=0;c<e.length;c++)a=t[c].y-e[c].y,isFinite(a)&&(i++,r+=a,o+=a*a);var s=-Math.abs(r*Math.sqrt((i-1)/(i*o-r*r)));try{return(2*new l.a.Studentt(i-1).cdf(s)).toFixed(n)}catch(e){return NaN}},a.computeTTest=function(e){var t=this.props.data,a=[],n=[];if(t){for(var r=0;r<t.length;r++)r===e?(a.push("control"),n.push("control")):(a.push(this.computePValue(t[r].values,t[e].values)),n.push(this.computeLift(t[r].values,t[e].values)));this.setState({control:e,liftValues:n,pValues:a})}},a.render=function(){var e=this,t=this.props,a=t.data,n=t.metric,r=t.groups,o=this.state,c=o.control,l=o.liftValues,u=o.pValues,p=r.map((function(e,t){return i.a.createElement(s.Th,{key:t,column:e},e)})),h=r.length;p.push(i.a.createElement(s.Th,{key:h+1,column:"pValue"},"p-value")),p.push(i.a.createElement(s.Th,{key:h+2,column:"liftValue"},"Lift %")),p.push(i.a.createElement(s.Th,{key:h+3,column:"significant"},"Significant"));var f=a.map((function(t,a){var n=r.map((function(e,a){return i.a.createElement(s.Td,{key:a,column:e,data:t.group[a]})}));return n.push(i.a.createElement(s.Td,{key:h+1,className:e.getPValueStatus(a),column:"pValue",data:u[a]})),n.push(i.a.createElement(s.Td,{key:h+2,className:e.getLiftStatus(a),column:"liftValue",data:l[a]})),n.push(i.a.createElement(s.Td,{key:h+3,className:e.getSignificance(a),column:"significant",data:e.getSignificance(a)})),i.a.createElement(s.Tr,{key:a,onClick:e.computeTTest.bind(e,a),className:a===c?"control":""},n)})),d=r.concat([{column:"pValue",sortFunction:function(e,t){return"control"===e?-1:"control"===t?1:e>t?1:-1}},{column:"liftValue",sortFunction:function(e,t){return"control"===e?-1:"control"===t?1:parseFloat(e)>parseFloat(t)?-1:1}},{column:"significant",sortFunction:function(e,t){return"control"===e?-1:"control"===t?1:e>t?-1:1}}]);return i.a.createElement("div",null,i.a.createElement("h3",null,n),i.a.createElement(s.Table,{className:"table",id:"table_"+n,sortable:d},i.a.createElement(s.Thead,null,p),f))},t}(i.a.Component);h.propTypes=p,h.defaultProps={alpha:.05,liftValPrec:4,pValPrec:6};var f=h;a(1230);var d={alpha:r.a.number,className:r.a.string,data:r.a.objectOf(u).isRequired,groups:r.a.arrayOf(r.a.string).isRequired,liftValPrec:r.a.number,metrics:r.a.arrayOf(r.a.string).isRequired,pValPrec:r.a.number},m=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,a=e.metrics,n=e.groups,r=e.data,o=e.alpha,c=e.pValPrec,l=e.liftValPrec;return i.a.createElement("div",{className:"superset-legacy-chart-paired-t-test "+t},i.a.createElement("div",{className:"paired-ttest-table scrollbar-container"},i.a.createElement("div",{className:"scrollbar-content"},a.map((function(e,t){return i.a.createElement(f,{key:t,metric:e,groups:n,data:r[e],alpha:o,pValPrec:Math.min(c,32),liftValPrec:Math.min(l,32)})})))))},t}(i.a.PureComponent);m.propTypes=d,m.defaultProps={alpha:.05,className:"",liftValPrec:4,pValPrec:6};t.default=m}}]);