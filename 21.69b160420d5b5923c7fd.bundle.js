(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1261:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n.n(a),i=n(1),l=n.n(i);function o(){return(o=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=function(n){function a(e){var t;return c(s(t=n.call(this,e)||this),"container",void 0),t.setContainerRef=t.setContainerRef.bind(s(t)),t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(a,n);var r=a.prototype;return r.componentDidMount=function(){this.execute()},r.componentDidUpdate=function(){this.execute()},r.componentWillUnmount=function(){this.container=void 0,t&&t.componentWillUnmount&&t.componentWillUnmount.bind(this)()},r.setContainerRef=function(e){this.container=e},r.execute=function(){this.container&&e(this.container,this.props)},r.render=function(){var e=this.props,t=e.id,n=e.className;return l.a.createElement("div",{id:t,className:n,ref:this.setContainerRef})},a}(l.a.Component);c(n,"propTypes",{id:r.a.string,className:r.a.string});var a=n;return e.displayName&&(a.displayName=e.displayName),e.propTypes&&(a.propTypes=o({},a.propTypes,{},e.propTypes)),e.defaultProps&&(a.defaultProps=e.defaultProps),n}},1282:function(e,t,n){e.exports=n(1283)},1283:function(e,t,n){var a=n(1284);e.exports=a},1284:function(e,t,n){var a=n(1285),r=Array.prototype;e.exports=function(e){var t=e.reverse;return e===r||e instanceof Array&&t===r.reverse?a:t}},1285:function(e,t,n){n(1286);var a=n(61);e.exports=a("Array").reverse},1286:function(e,t,n){"use strict";var a=n(31),r=n(211),i=[].reverse,l=[1,2];a({target:"Array",proto:!0,forced:String(l)===String(l.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),i.call(this)}})},1373:function(e,t){e.exports={d3_identity:function(e){return e},d3_mergeLabels:function(e,t){if(0===t.length)return e;e=e||[];for(var n=t.length;n<e.length;n++)t.push(e[n]);return t},d3_linearLegend:function(e,t,n){var a=[];if(t.length>1)a=t;else for(var r=e.domain(),i=(r[r.length-1]-r[0])/(t-1),l=0;l<t;l++)a.push(r[0]+l*i);var o=a.map(n);return{data:a,labels:o,feature:function(t){return e(t)}}},d3_quantLegend:function(e,t,n){var a=e.range().map((function(a){var r=e.invertExtent(a);t(r[0]),t(r[1]);return t(r[0])+" "+n+" "+t(r[1])}));return{data:e.range(),labels:a,feature:this.d3_identity}},d3_ordinalLegend:function(e){return{data:e.domain(),labels:e.domain(),feature:function(t){return e(t)}}},d3_drawShapes:function(e,t,n,a,r,i){"rect"===e?t.attr("height",n).attr("width",a):"circle"===e?t.attr("r",r):"line"===e?t.attr("x1",0).attr("x2",a).attr("y1",0).attr("y2",0):"path"===e&&t.attr("d",i)},d3_addText:function(e,t,n,a){t.append("text").attr("class",a+"label"),e.selectAll("g."+a+"cell text."+a+"label").data(n).text(this.d3_identity)},d3_calcType:function(e,t,n,a,r,i){var l=e.ticks?this.d3_linearLegend(e,n,r):e.invertExtent?this.d3_quantLegend(e,r,i):this.d3_ordinalLegend(e);return l.labels=this.d3_mergeLabels(l.labels,a),t&&(l.labels=this.d3_reverse(l.labels),l.data=this.d3_reverse(l.data)),l},d3_reverse:function(e){for(var t=[],n=0,a=e.length;n<a;n++)t[n]=e[a-n-1];return t},d3_placement:function(e,t,n,a,r,i){t.attr("transform",n),a.attr("transform",r),"horizontal"===e&&a.style("text-anchor",i)},d3_addEvents:function(e,t){var n=this;e.on("mouseover.legend",(function(e){n.d3_cellOver(t,e,this)})).on("mouseout.legend",(function(e){n.d3_cellOut(t,e,this)})).on("click.legend",(function(e){n.d3_cellClick(t,e,this)}))},d3_cellOver:function(e,t,n){e.cellover.call(n,t)},d3_cellOut:function(e,t,n){e.cellout.call(n,t)},d3_cellClick:function(e,t,n){e.cellclick.call(n,t)},d3_title:function(e,t,n,a){if(""!==n){e.selectAll("text."+a+"legendTitle").data([n]).enter().append("text").attr("class",a+"legendTitle"),e.selectAll("text."+a+"legendTitle").text(n);var r=e.select("."+a+"legendTitle").map((function(e){return e[0].getBBox().height}))[0],i=-t.map((function(e){return e[0].getBBox().x}))[0];t.attr("transform","translate("+i+","+(r+10)+")")}}}},1654:function(e,t,n){var a=n(110);a.legend=n(1655),e.exports=a},1655:function(e,t,n){e.exports={color:n(1656),size:n(1657),symbol:n(1658)}},1656:function(e,t,n){var a=n(1373);e.exports=function(){var e,t=d3.scale.linear(),n="rect",r=15,i=15,l=10,o=2,s=[5],c=[],u="",d=!1,h="",p=d3.format(".01f"),f=10,g="middle",m="to",v="vertical",y=!1,x=d3.dispatch("cellover","cellout","cellclick");function b(b){var w=a.d3_calcType(t,y,s,c,p,m),_=b.selectAll("g").data([t]);_.enter().append("g").attr("class",u+"legendCells");var S=_.selectAll("."+u+"cell").data(w.data),A=S.enter().append("g",".cell").attr("class",u+"cell").style("opacity",1e-6),O=(A.append(n).attr("class",u+"swatch"),S.select("g."+u+"cell "+n));a.d3_addEvents(A,x),S.exit().transition().style("opacity",0).remove(),a.d3_drawShapes(n,O,i,r,l,e),a.d3_addText(_,A,w.labels,u);var T=S.select("text"),L=O[0].map((function(e){return e.getBBox()}));d?O.attr("class",(function(e){return u+"swatch "+w.feature(e)})):"line"==n?O.style("stroke",w.feature):O.style("fill",w.feature);var C,k,I="start"==g?0:"middle"==g?.5:1;"vertical"===v?(C=function(e,t){return"translate(0, "+t*(L[t].height+o)+")"},k=function(e,t){return"translate("+(L[t].width+L[t].x+f)+","+(L[t].y+L[t].height/2+5)+")"}):"horizontal"===v&&(C=function(e,t){return"translate("+t*(L[t].width+o)+",0)"},k=function(e,t){return"translate("+(L[t].width*I+L[t].x)+","+(L[t].height+L[t].y+f+8)+")"}),a.d3_placement(v,S,C,T,k,g),a.d3_title(b,_,h,u),S.transition().style("opacity",1)}return b.scale=function(e){return arguments.length?(t=e,b):t},b.cells=function(e){return arguments.length?((e.length>1||e>=2)&&(s=e),b):s},b.shape=function(t,a){return arguments.length?(("rect"==t||"circle"==t||"line"==t||"path"==t&&"string"==typeof a)&&(n=t,e=a),b):n},b.shapeWidth=function(e){return arguments.length?(r=+e,b):r},b.shapeHeight=function(e){return arguments.length?(i=+e,b):i},b.shapeRadius=function(e){return arguments.length?(l=+e,b):l},b.shapePadding=function(e){return arguments.length?(o=+e,b):o},b.labels=function(e){return arguments.length?(c=e,b):c},b.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(g=e),b):g},b.labelFormat=function(e){return arguments.length?(p=e,b):p},b.labelOffset=function(e){return arguments.length?(f=+e,b):f},b.labelDelimiter=function(e){return arguments.length?(m=e,b):m},b.useClass=function(e){return arguments.length?(!0!==e&&!1!==e||(d=e),b):d},b.orient=function(e){return arguments.length?("horizontal"!=(e=e.toLowerCase())&&"vertical"!=e||(v=e),b):v},b.ascending=function(e){return arguments.length?(y=!!e,b):y},b.classPrefix=function(e){return arguments.length?(u=e,b):u},b.title=function(e){return arguments.length?(h=e,b):h},d3.rebind(b,x,"on"),b}},1657:function(e,t,n){var a=n(1373);e.exports=function(){var e,t=d3.scale.linear(),n="rect",r=15,i=2,l=[5],o=[],s="",c="",u=d3.format(".01f"),d=10,h="middle",p="to",f="vertical",g=!1,m=d3.dispatch("cellover","cellout","cellclick");function v(v){var y=a.d3_calcType(t,g,l,o,u,p),x=v.selectAll("g").data([t]);x.enter().append("g").attr("class",s+"legendCells");var b=x.selectAll("."+s+"cell").data(y.data),w=b.enter().append("g",".cell").attr("class",s+"cell").style("opacity",1e-6),_=(w.append(n).attr("class",s+"swatch"),b.select("g."+s+"cell "+n));a.d3_addEvents(w,m),b.exit().transition().style("opacity",0).remove(),"line"===n?(a.d3_drawShapes(n,_,0,r),_.attr("stroke-width",y.feature)):a.d3_drawShapes(n,_,y.feature,y.feature,y.feature,e),a.d3_addText(x,w,y.labels,s);var S,A,O=b.select("text"),T=_[0].map((function(e,a){var r=e.getBBox(),i=t(y.data[a]);return"line"===n&&"horizontal"===f?r.height=r.height+i:"line"===n&&"vertical"===f&&(r.width=r.width),r})),L=d3.max(T,(function(e){return e.height+e.y})),C=d3.max(T,(function(e){return e.width+e.x})),k="start"==h?0:"middle"==h?.5:1;"vertical"===f?(S=function(e,t){return"translate(0, "+(d3.sum(T.slice(0,t+1),(function(e){return e.height}))+t*i)+")"},A=function(e,t){return"translate("+(C+d)+","+(T[t].y+T[t].height/2+5)+")"}):"horizontal"===f&&(S=function(e,t){return"translate("+(d3.sum(T.slice(0,t+1),(function(e){return e.width}))+t*i)+",0)"},A=function(e,t){return"translate("+(T[t].width*k+T[t].x)+","+(L+d)+")"}),a.d3_placement(f,b,S,O,A,h),a.d3_title(v,x,c,s),b.transition().style("opacity",1)}return v.scale=function(e){return arguments.length?(t=e,v):t},v.cells=function(e){return arguments.length?((e.length>1||e>=2)&&(l=e),v):l},v.shape=function(t,a){return arguments.length?("rect"!=t&&"circle"!=t&&"line"!=t||(n=t,e=a),v):n},v.shapeWidth=function(e){return arguments.length?(r=+e,v):r},v.shapePadding=function(e){return arguments.length?(i=+e,v):i},v.labels=function(e){return arguments.length?(o=e,v):o},v.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(h=e),v):h},v.labelFormat=function(e){return arguments.length?(u=e,v):u},v.labelOffset=function(e){return arguments.length?(d=+e,v):d},v.labelDelimiter=function(e){return arguments.length?(p=e,v):p},v.orient=function(e){return arguments.length?("horizontal"!=(e=e.toLowerCase())&&"vertical"!=e||(f=e),v):f},v.ascending=function(e){return arguments.length?(g=!!e,v):g},v.classPrefix=function(e){return arguments.length?(s=e,v):s},v.title=function(e){return arguments.length?(c=e,v):c},d3.rebind(v,m,"on"),v}},1658:function(e,t,n){var a=n(1373);e.exports=function(){var e=d3.scale.linear(),t=5,n=[5],r=[],i="",l="",o=d3.format(".01f"),s="middle",c=10,u="to",d="vertical",h=!1,p=d3.dispatch("cellover","cellout","cellclick");function f(f){var g=a.d3_calcType(e,h,n,r,o,u),m=f.selectAll("g").data([e]);m.enter().append("g").attr("class",i+"legendCells");var v=m.selectAll("."+i+"cell").data(g.data),y=v.enter().append("g",".cell").attr("class",i+"cell").style("opacity",1e-6),x=(y.append("path").attr("class",i+"swatch"),v.select("g."+i+"cell path"));a.d3_addEvents(y,p),v.exit().transition().style("opacity",0).remove(),a.d3_drawShapes("path",x,15,15,10,g.feature),a.d3_addText(m,y,g.labels,i);var b,w,_=v.select("text"),S=x[0].map((function(e){return e.getBBox()})),A=d3.max(S,(function(e){return e.height})),O=d3.max(S,(function(e){return e.width})),T="start"==s?0:"middle"==s?.5:1;"vertical"===d?(b=function(e,n){return"translate(0, "+n*(A+t)+")"},w=function(e,t){return"translate("+(O+c)+","+(S[t].y+S[t].height/2+5)+")"}):"horizontal"===d&&(b=function(e,n){return"translate("+n*(O+t)+",0)"},w=function(e,t){return"translate("+(S[t].width*T+S[t].x)+","+(A+c)+")"}),a.d3_placement(d,v,b,_,w,s),a.d3_title(f,m,l,i),v.transition().style("opacity",1)}return f.scale=function(t){return arguments.length?(e=t,f):e},f.cells=function(e){return arguments.length?((e.length>1||e>=2)&&(n=e),f):n},f.shapePadding=function(e){return arguments.length?(t=+e,f):t},f.labels=function(e){return arguments.length?(r=e,f):r},f.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(s=e),f):s},f.labelFormat=function(e){return arguments.length?(o=e,f):o},f.labelOffset=function(e){return arguments.length?(c=+e,f):c},f.labelDelimiter=function(e){return arguments.length?(u=e,f):u},f.orient=function(e){return arguments.length?("horizontal"!=(e=e.toLowerCase())&&"vertical"!=e||(d=e),f):d},f.ascending=function(e){return arguments.length?(h=!!e,f):h},f.classPrefix=function(e){return arguments.length?(i=e,f):i},f.title=function(e){return arguments.length?(l=e,f):l},d3.rebind(f,p,"on"),f}},1659:function(e,t,n){var a=n(283),r=n(1660);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},l=(a(r,i),r.locals?r.locals:{});e.exports=l},1660:function(e,t,n){(t=n(284)(!1)).push([e.i,"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* from d3-tip */\n.d3-tip {\n  line-height: 1;\n  padding: 12px;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  border-radius: 2px;\n  pointer-events: none;\n  z-index: 1000;\n}\n\n/* Creates a small triangle extender for the tooltip */\n.d3-tip:after {\n  box-sizing: border-box;\n  display: inline;\n  font-size: 10px;\n  width: 100%;\n  line-height: 1;\n  color: rgba(0, 0, 0, 0.8);\n  position: absolute;\n  pointer-events: none;\n}\n\n/* Northward tooltips */\n.d3-tip.n:after {\n  content: '\\25BC';\n  margin: -1px 0 0 0;\n  top: 100%;\n  left: 0;\n  text-align: center;\n}\n\n/* Eastward tooltips */\n.d3-tip.e:after {\n  content: '\\25C0';\n  margin: -4px 0 0 0;\n  top: 50%;\n  left: -8px;\n}\n\n/* Southward tooltips */\n.d3-tip.s:after {\n  content: '\\25B2';\n  margin: 0 0 1px 0;\n  top: -8px;\n  left: 0;\n  text-align: center;\n}\n\n/* Westward tooltips */\n.d3-tip.w:after {\n  content: '\\25B6';\n  margin: -4px 0 0 -1px;\n  top: 50%;\n  left: 100%;\n}\n",""]),e.exports=t},1661:function(e,t,n){var a=n(283),r=n(1662);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},l=(a(r,i),r.locals?r.locals:{});e.exports=l},1662:function(e,t,n){(t=n(284)(!1)).push([e.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n.superset-legacy-chart-heatmap {\n  position: relative;\n  top: 0;\n  left: 0;\n  height: 100%;\n}\n\n.superset-legacy-chart-heatmap .axis text {\n  font: 12px sans-serif;\n  text-rendering: optimizeLegibility;\n  fill: #555;\n}\n\n.superset-legacy-chart-heatmap .background-rect {\n  stroke: #ddd;\n  fill-opacity: 0;\n  pointer-events: all;\n}\n\n.superset-legacy-chart-heatmap .axis path,\n.superset-legacy-chart-heatmap .axis line {\n  fill: none;\n  stroke: #ddd;\n  shape-rendering: crispEdges;\n}\n\n.superset-legacy-chart-heatmap canvas,\n.superset-legacy-chart-heatmap img {\n  image-rendering: optimizeSpeed; /* Older versions of FF          */\n  image-rendering: -moz-crisp-edges; /* FF 6.0+                       */ /* Safari                        */\n  image-rendering: -o-crisp-edges; /* OS X & Windows Opera (12.02+) */\n  image-rendering: pixelated; /* Awesome future-browsers       */\n  -ms-interpolation-mode: nearest-neighbor; /* IE                            */\n}\n\n.superset-legacy-chart-heatmap .legendCells text {\n  font-size: 10px;\n  font-weight: normal;\n  opacity: 0;\n}\n\n.superset-legacy-chart-heatmap .legendCells .cell:first-child text {\n  opacity: 1;\n}\n.superset-legacy-chart-heatmap .legendCells .cell:last-child text {\n  opacity: 1;\n}\n\n.dashboard .superset-legacy-chart-heatmap .axis text {\n  font-size: 10px;\n  opacity: 0.75;\n}\n',""]),e.exports=t},2315:function(e,t,n){"use strict";n.r(t);var a=n(1261),r=(n(4),n(19),n(76)),i=n.n(r),l=n(1282),o=n.n(l),s=n(210),c=n.n(s),u=n(146),d=n.n(u),h=n(18),p=n.n(h),f=n(52),g=n.n(f),m=n(110),v=n.n(m),y=n(0),x=n.n(y),b=(n(1654),n(415)),w=n(371),_=n(282),S=n(120),A=(n(1659),n(1661),{data:x.a.shape({records:x.a.arrayOf(x.a.shape({x:x.a.string,y:x.a.string,v:x.a.number,perc:x.a.number,rank:x.a.number})),extents:x.a.arrayOf(x.a.number)}),width:x.a.number,height:x.a.number,bottomMargin:x.a.oneOfType([x.a.string,x.a.number]),colorScheme:x.a.string,columnX:x.a.string,columnY:x.a.string,leftMargin:x.a.oneOfType([x.a.string,x.a.number]),metric:x.a.oneOfType([x.a.string,x.a.object]),normalized:x.a.bool,numberFormat:x.a.string,showLegend:x.a.bool,showPercentage:x.a.bool,showValues:x.a.bool,sortXAxis:x.a.string,sortYAxis:x.a.string,xScaleInterval:x.a.number,yScaleInterval:x.a.number,yAxisBounds:x.a.arrayOf(x.a.number)});function O(e,t){return e>t?1:-1}function T(e,t){var n,a,r=t.data,l=t.width,s=t.height,u=t.bottomMargin,h=t.canvasImageRendering,f=t.colorScheme,m=t.columnX,y=t.columnY,x=t.leftMargin,A=t.metric,T=t.normalized,L=t.numberFormat,C=t.showLegend,k=t.showPercentage,I=t.showValues,N=t.sortXAxis,z=t.sortYAxis,B=t.xScaleInterval,E=t.yScaleInterval,F=t.yAxisBounds,M=r.records,P=r.extents,R={top:10,right:10,bottom:35,left:35},D=Object(_.b)(L);function W(e,t,n){var a,r={},i={};g()(M).call(M,(function(t){r[t[e]]=(r[t[e]]||0)+t.v,i[t[e]]=t[e]}));var l=p()(a=d()(i)).call(a,(function(e){return i[e]}));if("alpha_asc"===n)r=c()(l).call(l,O);else if("alpha_desc"===n){var s;r=o()(s=c()(l).call(l,O)).call(s)}else if("value_desc"===n){var u;r=c()(u=d()(r)).call(u,(function(e,t){return r[e]>r[t]?-1:1}))}else if("value_asc"===n){var h;r=c()(h=d()(r)).call(h,(function(e,t){return r[t]>r[e]?-1:1}))}return"y"===e&&t&&o()(r).call(r),t?v.a.scale.ordinal().domain(r).rangeBands(t):v.a.scale.ordinal().domain(r).range(v.a.range(r.length))}e.innerHTML="";var j,U,Y={};j=1,U=1,g()(M).call(M,(function(e){j=Math.max(j,e.x&&e.x.toString().length||1),U=Math.max(U,e.y&&e.y.toString().length||1)})),R.left="auto"===x?Math.ceil(Math.max(R.left,6*U)):x,C&&(R.right+=40),R.bottom="auto"===u?Math.ceil(Math.max(R.bottom,4.5*j)):u;var H=l-(R.left+R.right),V=s-(R.bottom+R.top),X=Object(_.b)(S.a.PERCENT),q=W("x",null,N),J=W("y",null,z),K=W("x",[0,H],N),G=W("y",[V,0],z),Q=[K.domain().length,G.domain().length],Z=F[0]||0,$=F[1]||1,ee=Object(w.a)().get(f).createLinearScale([Z,$]),te=[v.a.scale.linear().domain([0,Q[0]]).range([0,H]),v.a.scale.linear().domain([0,Q[1]]).range([0,V])],ne=v.a.select(e);ne.classed("superset-legacy-chart-heatmap",!0);var ae=ne.append("canvas").attr("width",Q[0]).attr("height",Q[1]).style("width",H+"px").style("height",V+"px").style("image-rendering",h).style("left",R.left+"px").style("top",R.top+"px").style("position","absolute"),re=ne.append("svg").attr("width",l).attr("height",s).style("position","relative");I&&re.selectAll("rect").data(M).enter().append("g").attr("transform","translate("+R.left+", "+R.top+")").append("text").attr("transform",(function(e){return"translate("+K(e.x)+", "+G(e.y)+")"})).attr("y",G.rangeBand()/2).attr("x",K.rangeBand()/2).attr("text-anchor","middle").attr("dy",".35em").text((function(e){return D(e.v)})).attr("font-size",Math.min(G.rangeBand(),K.rangeBand())/3+"px").attr("fill",(function(e){return e.v>=P[1]/2?"white":"black"}));if(C){var ie=v.a.legend.color().labelFormat(D).scale(ee).shapePadding(0).cells(10).shapeWidth(10).shapeHeight(10).labelOffset(3);re.append("g").attr("transform","translate("+(l-40)+", "+R.top+")").call(ie)}var le=Object(b.a)().attr("class","d3-tip").offset((function(){var e=v.a.mouse(this),t=e[0]-H/2;return[e[1]-20,t]})).html((function(){var e="",t=v.a.mouse(this),n=Math.floor(te[0].invert(t[0])),a=Math.floor(te[1].invert(t[1])),r="object"==typeof A?A.label:A;if(n in Y&&a in Y[n]){var i=Y[n][a];e+="<div><b>"+m+": </b>"+i.x+"<div>",e+="<div><b>"+y+": </b>"+i.y+"<div>",e+="<div><b>"+r+": </b>"+D(i.v)+"<div>",k&&(e+="<div><b>%: </b>"+X(T?i.rank:i.perc)+"<div>"),le.style("display",null)}else le.style("display","none");return e}));re.append("g").attr("transform","translate("+R.left+", "+R.top+")").append("rect").classed("background-rect",!0).on("mousemove",le.show).on("mouseout",le.hide).attr("width",H).attr("height",V).call(le);var oe=v.a.svg.axis().scale(K).outerTickSize(0).tickValues(i()(n=K.domain()).call(n,(function(e,t){return!(t%B)}))).orient("bottom"),se=v.a.svg.axis().scale(G).outerTickSize(0).tickValues(i()(a=G.domain()).call(a,(function(e,t){return!(t%E)}))).orient("left");re.append("g").attr("class","x axis").attr("transform","translate("+R.left+","+(R.top+V)+")").call(oe).selectAll("text").attr("x",-4).attr("y",10).attr("dy","0.3em").style("text-anchor","end").attr("transform","rotate(-45)"),re.append("g").attr("class","y axis").attr("transform","translate("+R.left+","+R.top+")").call(se);var ce=ae.node().getContext("2d");ce.imageSmoothingEnabled=!1,function(){var e=new Image,t=ce.createImageData(Q[0],Q[1]),n={};g()(M).call(M,(function(e){var t=v.a.rgb(ee(T?e.rank:e.perc)),a=q(e.x),r=J(e.y);n[a+r*q.domain().length]=t,void 0===Y[a]&&(Y[a]={}),void 0===Y[a][r]&&(Y[a][r]=e)}));for(var a=-1,r=0;r<Q[0]*Q[1];r++){var i=n[r],l=255;void 0===i&&(i=v.a.rgb("#F00"),l=0),t.data[++a]=i.r,t.data[++a]=i.g,t.data[++a]=i.b,t.data[++a]=l}ce.putImageData(t,0,0),e.src=ae.node().toDataURL()}()}T.displayName="Heatmap",T.propTypes=A;var L=T;t.default=Object(a.a)(L)}}]);