(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1823:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),o=r(1647),i=r.n(o),l=r(894),c=r.n(l),s=r(1641),u=r.n(s),f=r(854),d=r.n(f),h=r(130),p=r.n(h),m=r(920),v=r(1627),y=r.n(v),b={marginLeft:"auto",marginRight:"4px",zIndex:10},g=function(e){var t=e.column,r=e.alignPositiveNegative,n=e.colorPositiveNegative,o=e.enableFilter,i=e.isSelected,l=e.handleCellSelected;return function(e){var c,s=e.keyName,u=e.row.rowData.data[s],f="metric"===t.type,d=o&&!f?"pointer":"default",h={backgroundColor:o&&i({key:s,value:u})?"#EBEBEB":void 0,cursor:d,margin:"0px -16px"},p={alignItems:"center",display:"flex",height:m.HEIGHT_TO_PX.micro,margin:"0px 16px",position:"relative",textAlign:f?"right":"left"},v=function(e){var t=e.children;return a.a.createElement("div",{style:h},a.a.createElement("div",{style:p},t))};if(f){var g=0,w=0;if(r)w=Math.abs(Math.round(u/Math.max(t.maxValue,Math.abs(t.minValue))*100));else{var S=Math.abs(Math.max(t.maxValue,0)),O=Math.abs(Math.min(t.minValue,0)),E=S+O;g=Math.round(Math.min(O+u,O)/E*100),w=Math.round(Math.abs(u)/E*100)}var P=n&&u<0?"#FFA8A8":"#ced4da";c=function(e){var t=e.children,r={background:P,borderRadius:3,height:m.HEIGHT_TO_PX.micro/2+4,left:"".concat(g,"%"),position:"absolute",width:"".concat(w,"%")};return a.a.createElement(v,null,a.a.createElement("div",{style:r}),a.a.createElement("div",{style:b},t))}}else c=function(e){var t=e.children;return a.a.createElement(v,null,t)};return a.a.createElement("div",{onClick:f?null:l({key:s,value:u})},a.a.createElement(c,null,t.format?t.format(u):a.a.createElement(y.a,{content:u})))}};function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach(function(t){C(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=function(){},N={alignPositiveNegative:!1,colorPositiveNegative:!1,filters:{},includeSearch:!1,onAddFilter:M,onRemoveFilter:M};function A(e){return"".concat(e.key,"#").concat(e.value)}var F=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=x(t).call(this,e),r=!a||"object"!==w(a)&&"function"!=typeof a?j(n):a,C(j(r),"handleCellSelected",function(e){return function(){var t=r.state.selectedCells,n=r.props,a=n.tableFilter,o=n.onRemoveFilter,i=n.onAddFilter;if(a){var l=new Set(Array.from(t)),c=A(e);l.has(c)?(l.delete(c),o(e.key,[e.value])):(l.add(c),i(e.key,[e.value])),r.setState({selectedCells:l})}}}),C(j(r),"isSelected",function(e){return r.state.selectedCells.has(A(e))}),C(j(r),"handleSearch",function(e){var t=r.state.searchKeyword,n=r.props.data;if(t!==e){var a=n.filter(function(t){return Object.keys(t.data).map(function(e){return t.data[e]}).join("|").toLowerCase().indexOf(e.toLowerCase())>=0});r.setState({filteredRows:a,searchKeyword:e})}}),r.state={filteredRows:[],filters:e.filters,searchKeyword:"",selectedCells:new Set},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,a.a.PureComponent),r=t,(n=[{key:"render",value:function(){var e=this,t=this.props,r=t.cx,n=t.data,o=t.columns,l=t.alignPositiveNegative,s=t.colorPositiveNegative,f=t.height,d=t.width,h=t.tableFilter,m=t.styles,v=t.includeSearch,y=this.state,b=y.filteredRows,w=y.searchKeyword,S={},P=""===w?n:b,x={};o.forEach(function(t){S[t.key]=g({alignPositiveNegative:l,colorPositiveNegative:s,column:t,enableFilter:h,handleCellSelected:e.handleCellSelected,isSelected:e.isSelected}),"metric"===t.type&&(x[t.key]={rightAlign:1})});var j=P&&P.length>0?Object.keys(P[0].data):[],k=0;j.forEach(function(t){var r=10*Math.max.apply(Math,E(n.map(function(e){return function(e){if("string"==typeof e){var t=document.createElement("span"),r=p.a.sanitize(e);return t.innerHTML=r,String(t.textContent||t.innerText)}return String(e)}(e.data[t]).length})).concat([t.length]))+32;x[t]=O({maxWidth:500,width:r},x[t]),k+=Math.min(r,500),S[t]||(S[t]=g({alignPositiveNegative:l,colorPositiveNegative:s,column:{key:t,label:t,type:"string"},enableFilter:h,handleCellSelected:e.handleCellSelected,isSelected:e.isSelected}))});var C=v?f-40:f;return a.a.createElement("div",{className:r(m.container)},v&&a.a.createElement("div",{className:r(m.searchBar)},a.a.createElement("div",{className:r(m.searchBox)},a.a.createElement(u.a,{name:"search",label:"",placeholder:"Search",onChange:this.handleSearch,compact:!0,value:w})),a.a.createElement(c.a,{small:!0},"Showing ",P.length," out of ",n.length," rows")),a.a.createElement(i.a,{data:P,keys:j,columnMetadata:x,zebra:!0,rowHeight:"micro",renderers:S,height:C,width:Math.max(k,d)}))}}])&&P(r.prototype,n),o&&P(r,o),t}();C(F,"defaultProps",N),C(F,"getDerivedStateFromProps",function(e,t){var r=e.filters,n=t.selectedCells;if(t.filters!==r){var a=new Set(Array.from(n));return Object.keys(r).forEach(function(e){r[e].forEach(function(t){a.add(A({key:e,value:t}))})}),O({},t,{filters:r,selectedCells:a})}return t});t.default=d()(function(e){var t=e.unit;return{container:{display:"grid"},searchBar:{alignItems:"baseline",display:"flex",flexDirection:"row-reverse",flexGrow:0,marginBottom:t},searchBox:{marginLeft:t,width:25*t}}})(F)}}]);